{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. МОБИЛЬНОЕ МЕНЮ ---\n  const burger = document.getElementById('burger');\n  const burgerClose = document.getElementById('burger-close');\n  const mobileMenu = document.getElementById('mobile-menu');\n  const menuBackdrop = document.getElementById('menu-backdrop');\n  const menuLinks = document.querySelectorAll('.mobile-menu__link');\n\n  const toggleMenu = () => mobileMenu.classList.toggle('active');\n\n  if(burger) burger.addEventListener('click', toggleMenu);\n  if(burgerClose) burgerClose.addEventListener('click', toggleMenu);\n  if(menuBackdrop) menuBackdrop.addEventListener('click', toggleMenu);\n\n  menuLinks.forEach(link => {\n      link.addEventListener('click', () => mobileMenu.classList.remove('active'));\n  });\n\n  // --- 2. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookie-popup');\n  const acceptBtn = document.getElementById('accept-cookies');\n\n  if (!localStorage.getItem('cookies-accepted')) {\n      setTimeout(() => cookiePopup.classList.add('active'), 2000);\n  }\n\n  acceptBtn.addEventListener('click', () => {\n      localStorage.setItem('cookies-accepted', 'true');\n      cookiePopup.classList.remove('active');\n  });\n\n  // --- 3. REVEAL ANIMATION (Intersection Observer) ---\n  const observerOptions = { threshold: 0.15 };\n  const revealObserver = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('active');\n          }\n      });\n  }, observerOptions);\n\n  document.querySelectorAll('[data-reveal]').forEach(el => revealObserver.observe(el));\n\n  // --- 4. HEADER SCROLL EFFECT ---\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      window.scrollY > 50 ? header.classList.add('header--scrolled') : header.classList.remove('header--scrolled');\n  });\n\n  // --- 5. COUNTER ANIMATION ---\n  const animateNumbers = (entries, observer) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              const el = entry.target;\n              const target = parseInt(el.getAttribute('data-val'));\n              let count = 0;\n              const step = target / 100;\n              const update = () => {\n                  count += step;\n                  if (count < target) {\n                      el.innerText = (el.innerText.includes('€') ? '€' : '') + Math.ceil(count) + (el.innerText.includes('%') ? '%' : (el.innerText.includes('k') ? 'k' : ''));\n                      requestAnimationFrame(update);\n                  } else {\n                      el.innerText = el.getAttribute('data-val');\n                  }\n              };\n              update();\n              observer.unobserve(el);\n          }\n      });\n  };\n  const statsObserver = new IntersectionObserver(animateNumbers, { threshold: 0.5 });\n  document.querySelectorAll('.stats-box__value').forEach(val => {\n      val.setAttribute('data-val', val.innerText);\n      val.innerText = '0';\n      statsObserver.observe(val);\n  });\n\n  // --- 6. CONTACT FORM & CAPTCHA ---\n  let captchaResult;\n  const generateCaptcha = () => {\n      const a = Math.floor(Math.random() * 10) + 1;\n      const b = Math.floor(Math.random() * 10) + 1;\n      captchaResult = a + b;\n      const qEl = document.getElementById('captcha-question');\n      if(qEl) qEl.innerText = `${a} + ${b}`;\n  };\n  generateCaptcha();\n\n  const phoneInput = document.getElementById('phone-input');\n  if(phoneInput) phoneInput.addEventListener('input', (e) => e.target.value = e.target.value.replace(/\\D/g, ''));\n\n  const contactForm = document.getElementById('contact-form');\n  if(contactForm) {\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n          const ans = document.getElementById('captcha-answer').value;\n          if (parseInt(ans) !== captchaResult) {\n              alert('Ошибка капчи');\n              generateCaptcha();\n              return;\n          }\n          const btn = contactForm.querySelector('button');\n          btn.innerText = 'Отправка...';\n          setTimeout(() => {\n              document.getElementById('form-success').classList.add('active');\n              contactForm.reset();\n              btn.innerText = 'Отправить запрос';\n              generateCaptcha();\n          }, 1500);\n      });\n  }\n});\n\n// Глобальная функция закрытия успеха\nfunction closeSuccess() {\n  document.getElementById('form-success').classList.remove('active');\n}"],"names":["burger","burgerClose","mobileMenu","menuBackdrop","menuLinks","toggleMenu","link","cookiePopup","acceptBtn","observerOptions","revealObserver","entries","entry","el","header","animateNumbers","observer","target","count","step","update","statsObserver","val","captchaResult","generateCaptcha","a","b","qEl","phoneInput","contactForm","ans","btn"],"mappings":"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"}